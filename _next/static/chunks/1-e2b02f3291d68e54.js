"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{9379:function(e,t,i){i.d(t,{If:function(){return c},X3:function(){return a},YD:function(){return m},YO:function(){return d},ZT:function(){return n},_I:function(){return o},eH:function(){return h},th:function(){return u},uF:function(){return p},z2:function(){return g}});let n={correctAnswer:10,perfectPronunciation:15,firstTry:5,streak3:20,streak5:50,streak10:100,lessonComplete:30,dailyGoal:100,perfectLesson:50,gameWin:50,gameHighScore:100,levelUp:200},r={baseXp:100,xpMultiplier:1.5,maxLevel:50};function s(e){if(e<=1)return 0;let{baseXp:t,xpMultiplier:i}=r;return Math.floor(t*Math.pow(i,e-2))}function a(e){let t=1,i=e;for(;t<r.maxLevel;){let e=s(t+1);if(i<e)break;i-=e,t++}return{level:t,currentXp:i,nextLevelXp:s(t+1)}}let o={correct:["잘했어요! \uD83C\uDF89","정답이에요! ⭐","훌륭해요! \uD83D\uDC4F","멋져요! \uD83C\uDF1F","완벽해요! ✨","대단해요! \uD83C\uDFC6","최고예요! \uD83D\uDC4D"],incorrect:["괜찮아요, 다시 해봐요! \uD83D\uDCAA","조금만 더 노력해봐요! \uD83C\uDF08","포기하지 마세요! ⭐","한 번 더 도전해봐요! \uD83C\uDFAF","실수해도 괜찮아요! \uD83D\uDE0A"],streak:["연속 정답! 대단해요! \uD83D\uDD25","달리고 있어요! \uD83D\uDE80","멈출 수 없어요! ⚡"],levelUp:["레벨업! 축하해요! \uD83C\uDF8A","새로운 레벨 달성! \uD83C\uDFC5","계속 성장하고 있어요! \uD83D\uDCC8"],achievement:["업적 달성! \uD83C\uDFC6","새로운 배지를 얻었어요! \uD83C\uDF96️"]},u={wordMatch:{rounds:5,timeLimit:60,pointsPerMatch:10,bonusTimePoints:5},soundQuiz:{rounds:10,optionCount:4,pointsPerCorrect:10,timeBonusThreshold:3,timeBonus:5},spelling:{rounds:8,hintsAllowed:3,pointsPerCorrect:15,pointsWithHint:10},memory:{pairCount:6,timeLimit:120,pointsPerPair:10,perfectBonus:50}},l={beginner:[{type:"alphabet",title:"알파벳 학습",description:"알파벳 5개를 배워보세요",emoji:"\uD83D\uDD24",targetCount:5,xpReward:30,order:1},{type:"phonics",title:"파닉스 기초",description:"파닉스 규칙 3개를 배워보세요",emoji:"\uD83C\uDFB5",targetCount:3,xpReward:40,order:2},{type:"words",title:"단어 배우기",description:"새로운 단어 5개를 배워보세요",emoji:"\uD83D\uDCDA",targetCount:5,xpReward:35,order:3},{type:"speaking",title:"말하기 연습",description:"단어 3개를 따라 말해보세요",emoji:"\uD83C\uDFA4",targetCount:3,xpReward:40,order:4},{type:"wordMatch",title:"단어 매칭",description:"매칭 게임을 완료하세요",emoji:"\uD83C\uDFAF",targetCount:1,xpReward:50,order:5},{type:"memory",title:"메모리 게임",description:"메모리 게임을 완료하세요",emoji:"\uD83E\uDDE0",targetCount:1,xpReward:50,order:6},{type:"spelling",title:"철자 맞추기",description:"철자 게임에서 3문제를 맞추세요",emoji:"✏️",targetCount:3,xpReward:45,order:7},{type:"soundQuiz",title:"소리 퀴즈",description:"소리 퀴즈에서 3문제를 맞추세요",emoji:"\uD83D\uDD0A",targetCount:3,xpReward:45,order:8}],intermediate:[{type:"alphabet",title:"알파벳 복습",description:"알파벳 10개를 복습하세요",emoji:"\uD83D\uDD24",targetCount:10,xpReward:40,order:1},{type:"phonics",title:"파닉스 학습",description:"파닉스 규칙 5개를 배워보세요",emoji:"\uD83C\uDFB5",targetCount:5,xpReward:50,order:2},{type:"words",title:"단어 마스터",description:"새로운 단어 8개를 배워보세요",emoji:"\uD83D\uDCDA",targetCount:8,xpReward:45,order:3},{type:"speaking",title:"발음 연습",description:"단어 5개를 따라 말해보세요",emoji:"\uD83C\uDFA4",targetCount:5,xpReward:50,order:4},{type:"wordMatch",title:"단어 매칭 챌린지",description:"매칭 게임에서 80점 이상 획득",emoji:"\uD83C\uDFAF",targetCount:80,xpReward:60,order:5},{type:"memory",title:"기억력 챌린지",description:"메모리 게임에서 100점 이상 획득",emoji:"\uD83E\uDDE0",targetCount:100,xpReward:60,order:6},{type:"spelling",title:"철자 챌린지",description:"철자 게임에서 5문제를 맞추세요",emoji:"✏️",targetCount:5,xpReward:55,order:7},{type:"soundQuiz",title:"청취력 테스트",description:"소리 퀴즈에서 5문제를 맞추세요",emoji:"\uD83D\uDD0A",targetCount:5,xpReward:55,order:8}],advanced:[{type:"alphabet",title:"알파벳 완전 정복",description:"모든 알파벳을 완벽하게 복습",emoji:"\uD83D\uDD24",targetCount:26,xpReward:60,order:1},{type:"phonics",title:"고급 파닉스",description:"파닉스 규칙 8개를 마스터하세요",emoji:"\uD83C\uDFB5",targetCount:8,xpReward:70,order:2},{type:"words",title:"단어 정복자",description:"새로운 단어 12개를 배워보세요",emoji:"\uD83D\uDCDA",targetCount:12,xpReward:65,order:3},{type:"speaking",title:"발음 마스터",description:"단어 8개를 완벽하게 발음하세요",emoji:"\uD83C\uDFA4",targetCount:8,xpReward:70,order:4},{type:"wordMatch",title:"매칭 마스터",description:"매칭 게임에서 만점 획득",emoji:"\uD83C\uDFAF",targetCount:100,xpReward:80,order:5},{type:"memory",title:"기억력 마스터",description:"메모리 게임에서 150점 이상 획득",emoji:"\uD83E\uDDE0",targetCount:150,xpReward:80,order:6},{type:"spelling",title:"철자 마스터",description:"철자 게임에서 8문제를 맞추세요",emoji:"✏️",targetCount:8,xpReward:75,order:7},{type:"soundQuiz",title:"청취 마스터",description:"소리 퀴즈에서 8문제를 맞추세요",emoji:"\uD83D\uDD0A",targetCount:8,xpReward:75,order:8}]};function d(e,t){let i=l[e],n=i.filter(e=>["alphabet","phonics","words","speaking"].includes(e.type)),r=i.filter(e=>["wordMatch","memory","spelling","soundQuiz"].includes(e.type)),s=[...n].sort(()=>Math.random()-.5),a=[...r].sort(()=>Math.random()-.5);return[...s.slice(0,2),...a.slice(0,3)].map((e,i)=>({...e,id:"".concat(t,"-").concat(e.type,"-").concat(i),currentCount:0,isCompleted:!1,order:i+1}))}let c={alphabet:"/learn/alphabet",phonics:"/learn/phonics",words:"/learn/words",speaking:"/learn/speaking",wordMatch:"/games/word-match",memory:"/games/memory",spelling:"/games/spelling",soundQuiz:"/games/sound-quiz"},m={allComplete:100,perfectStreak:50},p={beginner:[{id:"bg-alphabet",category:"alphabet",title:"알파벳 학습",description:"오늘 배울 알파벳",emoji:"\uD83D\uDD24",targetCount:3,currentCount:0,unit:"개",link:"/learn/alphabet",estimatedMinutes:5},{id:"bg-phonics",category:"phonics",title:"파닉스 규칙",description:"소리 규칙 배우기",emoji:"\uD83C\uDFB5",targetCount:2,currentCount:0,unit:"개",link:"/learn/phonics",estimatedMinutes:5},{id:"bg-words",category:"words",title:"단어 학습",description:"새로운 단어 익히기",emoji:"\uD83D\uDCDA",targetCount:5,currentCount:0,unit:"개",link:"/learn/words",estimatedMinutes:5},{id:"bg-speaking",category:"speaking",title:"말하기 연습",description:"따라 말하기",emoji:"\uD83C\uDFA4",targetCount:3,currentCount:0,unit:"회",link:"/learn/speaking",estimatedMinutes:3},{id:"bg-games",category:"games",title:"복습 게임",description:"재미있게 복습하기",emoji:"\uD83C\uDFAE",targetCount:1,currentCount:0,unit:"회",link:"/games",estimatedMinutes:5}],intermediate:[{id:"im-alphabet",category:"alphabet",title:"알파벳 복습",description:"알파벳 완벽하게 익히기",emoji:"\uD83D\uDD24",targetCount:5,currentCount:0,unit:"개",link:"/learn/alphabet",estimatedMinutes:5},{id:"im-phonics",category:"phonics",title:"파닉스 규칙",description:"다양한 소리 규칙",emoji:"\uD83C\uDFB5",targetCount:3,currentCount:0,unit:"개",link:"/learn/phonics",estimatedMinutes:7},{id:"im-words",category:"words",title:"단어 학습",description:"새로운 단어 마스터",emoji:"\uD83D\uDCDA",targetCount:8,currentCount:0,unit:"개",link:"/learn/words",estimatedMinutes:8},{id:"im-speaking",category:"speaking",title:"말하기 연습",description:"정확한 발음 연습",emoji:"\uD83C\uDFA4",targetCount:5,currentCount:0,unit:"회",link:"/learn/speaking",estimatedMinutes:5},{id:"im-games",category:"games",title:"복습 게임",description:"게임으로 실력 다지기",emoji:"\uD83C\uDFAE",targetCount:2,currentCount:0,unit:"회",link:"/games",estimatedMinutes:10}],advanced:[{id:"ad-alphabet",category:"alphabet",title:"알파벳 마스터",description:"모든 알파벳 완벽 숙지",emoji:"\uD83D\uDD24",targetCount:10,currentCount:0,unit:"개",link:"/learn/alphabet",estimatedMinutes:5},{id:"ad-phonics",category:"phonics",title:"고급 파닉스",description:"복잡한 소리 규칙",emoji:"\uD83C\uDFB5",targetCount:5,currentCount:0,unit:"개",link:"/learn/phonics",estimatedMinutes:10},{id:"ad-words",category:"words",title:"단어 정복",description:"어려운 단어 도전",emoji:"\uD83D\uDCDA",targetCount:12,currentCount:0,unit:"개",link:"/learn/words",estimatedMinutes:10},{id:"ad-speaking",category:"speaking",title:"말하기 마스터",description:"완벽한 발음 구사",emoji:"\uD83C\uDFA4",targetCount:8,currentCount:0,unit:"회",link:"/learn/speaking",estimatedMinutes:8},{id:"ad-games",category:"games",title:"챌린지 게임",description:"고득점 도전",emoji:"\uD83C\uDFAE",targetCount:2,currentCount:0,unit:"회",link:"/games",estimatedMinutes:12}]},g={beginner:20,intermediate:30,advanced:40},h={beginner:{title:"\uD83C\uDF31 초급 학습자",description:"하루 15-20분 학습을 권장해요",tips:["알파벳부터 차근차근 시작해요","그림과 소리를 함께 연결해요","게임으로 재미있게 복습해요"]},intermediate:{title:"\uD83C\uDF3F 중급 학습자",description:"하루 25-30분 학습을 권장해요",tips:["파닉스 규칙을 익혀요","새로운 단어를 많이 배워요","말하기 연습으로 발음을 다듬어요"]},advanced:{title:"\uD83C\uDF33 고급 학습자",description:"하루 35-45분 학습을 권장해요",tips:["복잡한 발음 규칙에 도전해요","어려운 단어를 정복해요","게임에서 높은 점수에 도전해요"]}}},1:function(e,t,i){i.d(t,{tN:function(){return g.t},WO:function(){return c},qm:function(){return p},LM:function(){return d}});var n=i(9625),r=i(6885),s=i(9379);let a={difficulty:"beginner",soundEnabled:!0,musicEnabled:!0,speechRate:.9,autoPlayAudio:!0,showKorean:!0,theme:"light"},o={viserId:"",totalXp:0,level:1,currentStreak:0,longestStreak:0,totalWordsLearned:0,totalSessionsCompleted:0,totalTimeSpentMinutes:0,achievementsUnlocked:[],lastStudyDate:new Date};function u(e){let t=new Date,i=new Date(e);return i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()}function l(e){let t=new Date;t.setDate(t.getDate()-1);let i=new Date(e);return i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()}let d=(0,n.Ue)()((0,r.tJ)((e,t)=>({profile:null,settings:a,stats:o,isInitialized:!1,createProfile:(t,i)=>{let n="user_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9));e({profile:{id:n,nickname:t,avatar:i,createdAt:new Date,lastActiveAt:new Date,settings:a},stats:{...o,viserId:n},isInitialized:!0})},updateProfile:i=>{let{profile:n}=t();n&&e({profile:{...n,...i,lastActiveAt:new Date}})},resetProfile:()=>{e({profile:null,settings:a,stats:o,isInitialized:!1})},updateSettings:i=>{let{settings:n,profile:r}=t(),s={...n,...i};e({settings:s}),r&&e({profile:{...r,settings:s}})},setDifficulty:e=>{t().updateSettings({difficulty:e})},toggleSound:()=>{let{settings:e}=t();t().updateSettings({soundEnabled:!e.soundEnabled})},toggleMusic:()=>{let{settings:e}=t();t().updateSettings({musicEnabled:!e.musicEnabled})},setSpeechRate:e=>{t().updateSettings({speechRate:Math.max(.5,Math.min(2,e))})},addXp:i=>{let{stats:n}=t(),r=n.totalXp+i,a=(0,s.X3)(r);e({stats:{...n,totalXp:r,level:a.level}})},incrementWordsLearned:function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{stats:n}=t();e({stats:{...n,totalWordsLearned:n.totalWordsLearned+i}})},completeSession:()=>{let{stats:i}=t();e({stats:{...i,totalSessionsCompleted:i.totalSessionsCompleted+1}}),t().addXp(s.ZT.lessonComplete)},addTimeSpent:i=>{let{stats:n}=t();e({stats:{...n,totalTimeSpentMinutes:n.totalTimeSpentMinutes+i}})},updateStreak:()=>{let{stats:i}=t(),n=new Date(i.lastStudyDate);if(u(n))return;let r=1;l(n)&&(r=i.currentStreak+1);let s=Math.max(i.longestStreak,r);e({stats:{...i,currentStreak:r,longestStreak:s,lastStudyDate:new Date}})},unlockAchievement:i=>{let{stats:n}=t();n.achievementsUnlocked.includes(i)||e({stats:{...n,achievementsUnlocked:[...n.achievementsUnlocked,i]}})},getCurrentLevel:()=>{let{stats:e}=t(),i=(0,s.X3)(e.totalXp),n=i.nextLevelXp>0?i.currentXp/i.nextLevelXp*100:100;return{...i,progress:n}},checkAndUpdateStreak:()=>{let{stats:i}=t(),n=new Date(i.lastStudyDate);u(n)||l(n)||e({stats:{...i,currentStreak:0}})}}),{name:"phonics-quest-user",storage:(0,r.FL)(()=>localStorage),partialize:e=>({profile:e.profile,settings:e.settings,stats:e.stats,isInitialized:e.isInitialized})})),c=(0,n.Ue)((e,t)=>({currentSession:null,currentMode:null,currentDifficulty:"beginner",currentItemIndex:0,totalItems:0,correctAnswers:0,incorrectAnswers:0,streak:0,maxStreak:0,alphabetItems:[],phonicsItems:[],wordItems:[],currentQuestion:null,quizResults:[],isQuizMode:!1,character:{emotion:"happy",message:"오늘도 함께 공부해요!",isAnimating:!1},sessionXp:0,sessionStartTime:null,startSession:(t,i)=>{e({currentSession:{id:"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9)),userId:"",mode:t,difficulty:i,startedAt:new Date,itemsStudied:0,correctAnswers:0,totalQuestions:0,xpEarned:0},currentMode:t,currentDifficulty:i,currentItemIndex:0,correctAnswers:0,incorrectAnswers:0,streak:0,maxStreak:0,sessionXp:0,sessionStartTime:Date.now(),character:{emotion:"happy",message:"시작해볼까요?",isAnimating:!0}}),setTimeout(()=>{e(e=>({character:{...e.character,isAnimating:!1}}))},1e3)},endSession:()=>{let i=t(),n=i.sessionStartTime?Math.floor((Date.now()-i.sessionStartTime)/6e4):0,r=i.correctAnswers+i.incorrectAnswers,a=r>0?i.correctAnswers/r*100:0,o=0;100===a&&r>=5&&(o+=s.ZT.perfectLesson);let u=i.sessionXp+o;return e({currentSession:null,sessionStartTime:null,character:{emotion:a>=80?"celebrating":"encouraging",message:a>=80?"정말 잘했어요!":"다음엔 더 잘할 수 있어요!",isAnimating:!0}}),{xpEarned:u,correctRate:a,timeSpent:n}},setAlphabetItems:t=>{e({alphabetItems:t,totalItems:t.length,currentItemIndex:0})},setPhonicsItems:t=>{e({phonicsItems:t,totalItems:t.length,currentItemIndex:0})},setWordItems:t=>{e({wordItems:t,totalItems:t.length,currentItemIndex:0})},nextItem:()=>{let{currentItemIndex:i,totalItems:n}=t();i<n-1&&e({currentItemIndex:i+1})},previousItem:()=>{let{currentItemIndex:i}=t();i>0&&e({currentItemIndex:i-1})},goToItem:i=>{let{totalItems:n}=t();i>=0&&i<n&&e({currentItemIndex:i})},recordAnswer:function(i){let n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t(),u=i?o.streak+1:0,l=Math.max(o.maxStreak,u),d=a;i&&(d+=s.ZT.correctAnswer),3===u&&(d+=s.ZT.streak3),5===u&&(d+=s.ZT.streak5),10===u&&(d+=s.ZT.streak10),i?u>=5?(n="excited",r=t().getRandomEncouragement("streak")):(n="happy",r=t().getRandomEncouragement("correct")):(n="encouraging",r=t().getRandomEncouragement("incorrect")),e({correctAnswers:i?o.correctAnswers+1:o.correctAnswers,incorrectAnswers:i?o.incorrectAnswers:o.incorrectAnswers+1,streak:u,maxStreak:l,sessionXp:o.sessionXp+d,character:{emotion:n,message:r,isAnimating:!0}}),setTimeout(()=>{e(e=>({character:{...e.character,isAnimating:!1}}))},1500)},startQuiz:t=>{e({isQuizMode:!0,quizResults:[],currentQuestion:t[0]||null,currentItemIndex:0,totalItems:t.length})},submitQuizAnswer:i=>{let n=t().currentQuestion;if(!n)return{questionId:"",userAnswer:i,isCorrect:!1,timeTaken:0,xpEarned:0};let r=i.toLowerCase().trim()===n.correctAnswer.toLowerCase().trim(),a=r?s.ZT.correctAnswer:0,o={questionId:n.id,userAnswer:i,isCorrect:r,timeTaken:0,xpEarned:a};return t().recordAnswer(r,a),e(e=>({quizResults:[...e.quizResults,o]})),o},endQuiz:()=>{e({isQuizMode:!1,currentQuestion:null})},setCharacterEmotion:(i,n)=>{e({character:{emotion:i,message:n||t().character.message,isAnimating:!0}}),setTimeout(()=>{e(e=>({character:{...e.character,isAnimating:!1}}))},1e3)},resetSession:()=>{e({currentSession:null,currentMode:null,currentItemIndex:0,totalItems:0,correctAnswers:0,incorrectAnswers:0,streak:0,maxStreak:0,alphabetItems:[],phonicsItems:[],wordItems:[],currentQuestion:null,quizResults:[],isQuizMode:!1,sessionXp:0,sessionStartTime:null,character:{emotion:"happy",message:"오늘도 함께 공부해요!",isAnimating:!1}})},getProgress:()=>{let{currentItemIndex:e,totalItems:i}=t();return i>0?(e+1)/i*100:0},getRandomEncouragement:e=>{let t=s._I[e];return t[Math.floor(Math.random()*t.length)]}}));function m(){let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}(0,n.Ue)((e,t)=>({gameState:null,isLoading:!1,isPaused:!1,timeRemaining:0,timerInterval:null,finalScore:0,isGameOver:!1,isWinner:!1,selectedItems:[],matchedPairs:[],currentWord:null,userInput:"",hintsUsed:0,revealedLetters:[],initGame:(t,i)=>{e({isLoading:!0});let n=[],r=0,a=i.length;switch(t){case"wordMatch":n=function(e){let t=[];return e.forEach((e,i)=>{t.push({id:"word-".concat(i),content:e.word,isMatched:!1,matchId:"meaning-".concat(i)}),t.push({id:"meaning-".concat(i),content:e.meaning,isMatched:!1,matchId:"word-".concat(i)})}),t.sort(()=>Math.random()-.5)}(i.slice(0,s.th.wordMatch.rounds)),r=s.th.wordMatch.timeLimit,a=s.th.wordMatch.rounds;break;case"memory":let o=Math.min(i.length,s.th.memory.pairCount);n=function(e){let t=[];return e.forEach((e,i)=>{t.push({id:"card-a-".concat(i),content:e.word,isMatched:!1,isFlipped:!1,matchId:"card-b-".concat(i)}),t.push({id:"card-b-".concat(i),content:e.word,isMatched:!1,isFlipped:!1,matchId:"card-a-".concat(i)})}),t.sort(()=>Math.random()-.5)}(i.slice(0,o)),r=s.th.memory.timeLimit,a=o;break;case"spelling":a=Math.min(i.length,s.th.spelling.rounds);break;case"soundQuiz":a=Math.min(i.length,s.th.soundQuiz.rounds)}e({gameState:{gameType:t,currentRound:1,totalRounds:a,score:0,lives:3,timeRemaining:r>0?r:void 0,isPlaying:!1,isPaused:!1,items:n},timeRemaining:r,isLoading:!1,isGameOver:!1,isWinner:!1,selectedItems:[],matchedPairs:[],hintsUsed:0,revealedLetters:[],userInput:""})},startGame:()=>{let{gameState:i}=t();i&&(e({gameState:{...i,isPlaying:!0}}),i.timeRemaining&&t().startTimer())},pauseGame:()=>{let{gameState:i}=t();i&&(t().stopTimer(),e({gameState:{...i,isPaused:!0},isPaused:!0}))},resumeGame:()=>{let{gameState:i}=t();i&&(e({gameState:{...i,isPaused:!1},isPaused:!1}),i.timeRemaining&&t().startTimer())},endGame:()=>{let{gameState:i,matchedPairs:n,timeRemaining:r}=t();if(t().stopTimer(),!i)return{score:0,xpEarned:0,isWinner:!1};let a=i.lives>0&&(i.currentRound>i.totalRounds||n.length>=i.totalRounds),o=0;return a&&(o=s.ZT.gameWin,r&&r>30&&(o+=Math.floor(r/10)*s.th.wordMatch.bonusTimePoints)),e({isGameOver:!0,isWinner:a,finalScore:i.score,gameState:{...i,isPlaying:!1}}),{score:i.score,xpEarned:o,isWinner:a}},resetGame:()=>{t().stopTimer(),e({gameState:null,isLoading:!1,isPaused:!1,timeRemaining:0,timerInterval:null,finalScore:0,isGameOver:!1,isWinner:!1,selectedItems:[],matchedPairs:[],currentWord:null,userInput:"",hintsUsed:0,revealedLetters:[]})},selectItem:i=>{let{selectedItems:n,gameState:r}=t();if(!r||n.includes(i))return;let s=r.items.find(e=>e.id===i);s&&!s.isMatched&&(n.length<2&&e({selectedItems:[...n,i]}),1===n.length&&setTimeout(()=>{t().checkMatch()},500))},checkMatch:()=>{let{selectedItems:i,gameState:n,matchedPairs:r}=t();if(!n||2!==i.length)return!1;let[a,o]=i,u=n.items.find(e=>e.id===a),l=n.items.find(e=>e.id===o);if(!u||!l||!(u.matchId===o||l.matchId===a))return e({selectedItems:[]}),!1;{let i=n.items.map(e=>e.id===a||e.id===o?{...e,isMatched:!0}:e),u=[...r,a,o];return e({gameState:{...n,items:i,score:n.score+s.th.wordMatch.pointsPerMatch},matchedPairs:u,selectedItems:[]}),u.length>=n.items.length&&setTimeout(()=>t().endGame(),500),!0}},setCurrentWord:t=>{e({currentWord:t,userInput:"",revealedLetters:[]})},updateUserInput:t=>{e({userInput:t})},checkSpelling:()=>{let{currentWord:i,userInput:n,gameState:r,hintsUsed:a}=t();if(!i||!r)return!1;let o=n.toLowerCase().trim()===i.word.toLowerCase();if(o){let i=a>0?s.th.spelling.pointsWithHint:s.th.spelling.pointsPerCorrect;e({gameState:{...r,score:r.score+i}}),r.currentRound<r.totalRounds?t().nextRound():t().endGame()}else t().loseLife();return o},useHint:()=>{let{currentWord:i,hintsUsed:n,revealedLetters:r}=t();if(!i||n>=s.th.spelling.hintsAllowed)return null;let a=i.word,o=a.split("").map((e,t)=>t).filter(e=>!r.includes(e));if(0===o.length)return null;let u=o[Math.floor(Math.random()*o.length)];return e({hintsUsed:n+1,revealedLetters:[...r,u]}),a[u]},flipCard:i=>{let{gameState:n,selectedItems:r}=t();if(!n||r.length>=2)return;let a=n.items.find(e=>e.id===i);if(!a||a.isMatched||a.isFlipped)return;let o=n.items.map(e=>e.id===i?{...e,isFlipped:!0}:e);e({gameState:{...n,items:o},selectedItems:[...r,i]}),1===r.length&&setTimeout(()=>{var i,n;let r=t(),[a,o]=r.selectedItems,u=null===(i=r.gameState)||void 0===i?void 0:i.items.find(e=>e.id===a),l=null===(n=r.gameState)||void 0===n?void 0:n.items.find(e=>e.id===o);if(u&&l&&u.matchId===o){let i=r.gameState.items.map(e=>e.id===a||e.id===o?{...e,isMatched:!0}:e);e({gameState:{...r.gameState,items:i,score:r.gameState.score+s.th.memory.pointsPerPair},matchedPairs:[...r.matchedPairs,a,o],selectedItems:[]}),i.every(e=>e.isMatched)&&setTimeout(()=>t().endGame(),500)}else{let t=r.gameState.items.map(e=>e.id===a||e.id===o?{...e,isFlipped:!1}:e);e({gameState:{...r.gameState,items:t},selectedItems:[]})}},1e3)},startTimer:()=>{let{timerInterval:i}=t();i||e({timerInterval:setInterval(()=>{t().decrementTime()},1e3)})},stopTimer:()=>{let{timerInterval:i}=t();i&&(clearInterval(i),e({timerInterval:null}))},decrementTime:()=>{let{timeRemaining:i,gameState:n}=t();if(i<=0){t().endGame();return}e({timeRemaining:i-1,gameState:n?{...n,timeRemaining:i-1}:null})},addScore:i=>{let{gameState:n}=t();n&&e({gameState:{...n,score:n.score+i}})},loseLife:()=>{let{gameState:i}=t();if(!i)return;let n=i.lives-1;n<=0?t().endGame():e({gameState:{...i,lives:n}})},nextRound:()=>{let{gameState:i}=t();i&&e({gameState:{...i,currentRound:i.currentRound+1},userInput:"",revealedLetters:[]})}}));let p=(0,n.Ue)()((0,r.tJ)((e,t)=>({dailyMissions:null,missionStreak:0,lastCompletedDate:null,initializeDailyMissions:i=>{let n=m(),{dailyMissions:r,lastCompletedDate:a}=t();if(r&&r.date===n)return;let o=0;if(a){let e=new Date;e.setDate(e.getDate()-1),a==="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))&&(o=t().missionStreak+1)}let u=(0,s.YO)(i,n);e({dailyMissions:{date:n,missions:u,totalMissions:u.length,completedMissions:0,bonusXpClaimed:!1},missionStreak:o})},updateMissionProgress:(i,n)=>{let{dailyMissions:r}=t();if(!r)return;let s=m();if(r.date!==s)return;let a=r.missions.map(e=>{if(e.type===i&&!e.isCompleted){let t=e.currentCount+n,i=t>=e.targetCount;return{...e,currentCount:Math.min(t,e.targetCount),isCompleted:i}}return e}),o=a.filter(e=>e.isCompleted).length;e({dailyMissions:{...r,missions:a,completedMissions:o}})},completeMission:i=>{let{dailyMissions:n}=t();if(!n)return{xpEarned:0,allComplete:!1};let r=n.missions.find(e=>e.id===i);if(!r||r.isCompleted)return{xpEarned:0,allComplete:!1};let s=n.missions.map(e=>e.id===i?{...e,isCompleted:!0,currentCount:e.targetCount}:e),a=s.filter(e=>e.isCompleted).length,o=a===n.totalMissions;return e({dailyMissions:{...n,missions:s,completedMissions:a}}),o&&e({lastCompletedDate:n.date,missionStreak:t().missionStreak+1}),{xpEarned:r.xpReward,allComplete:o}},claimDailyBonus:()=>{let{dailyMissions:i,missionStreak:n}=t();if(!i||i.bonusXpClaimed||i.completedMissions!==i.totalMissions)return 0;let r=s.YD.allComplete;return n>=3&&(r+=s.YD.perfectStreak),e({dailyMissions:{...i,bonusXpClaimed:!0}}),r},resetMissions:()=>{e({dailyMissions:null,missionStreak:0,lastCompletedDate:null})},getMissionByType:e=>{let{dailyMissions:i}=t();if(i)return i.missions.find(t=>t.type===e)},getTodayProgress:()=>{let{dailyMissions:e}=t();return e?{completed:e.completedMissions,total:e.totalMissions,percentage:e.completedMissions/e.totalMissions*100}:{completed:0,total:0,percentage:0}},checkAndRefreshMissions:e=>{let{dailyMissions:i}=t(),n=m();i&&i.date===n||t().initializeDailyMissions(e)}}),{name:"phonics-quest-missions",storage:(0,r.FL)(()=>localStorage),partialize:e=>({dailyMissions:e.dailyMissions,missionStreak:e.missionStreak,lastCompletedDate:e.lastCompletedDate})}));var g=i(91)}}]);