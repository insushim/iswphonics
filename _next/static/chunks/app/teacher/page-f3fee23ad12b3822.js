(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{8237:function(e,s,t){Promise.resolve().then(t.bind(t,9013))},1769:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},5302:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},407:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6399:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},7692:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},7168:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6595:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},9013:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Z}});var a=t(7437),l=t(2265),r=t(9376),n=t(429),i=t(5095),c=t(7168),x=t(7692),d=t(407),m=t(9763);let o=(0,m.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=t(5805);let u=(0,m.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var p=t(6595),g=t(1769),y=t(1723),j=t(6399),f=t(5302);let N=(0,m.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var b=t(1),v=t(1592),w=t(9804),k=t(3448);function Z(){var e;let s=(0,r.useRouter)(),{user:t,signOut:m,isInitialized:Z,initialize:C}=(0,b.tN)(),[z,S]=(0,l.useState)("classes"),[D,M]=(0,l.useState)([]),[E,L]=(0,l.useState)(null),[I,F]=(0,l.useState)([]),[P,q]=(0,l.useState)([]),[A,H]=(0,l.useState)(!0),[_,R]=(0,l.useState)(!1),[B,X]=(0,l.useState)(!1),[O,T]=(0,l.useState)(""),[V,U]=(0,l.useState)(""),[W,G]=(0,l.useState)(""),[J,K]=(0,l.useState)(10),[Q,Y]=(0,l.useState)([]),[$,ee]=(0,l.useState)(!1),[es,et]=(0,l.useState)(!1);(0,l.useEffect)(()=>{Z||C()},[Z,C]),(0,l.useEffect)(()=>{Z&&(t?"teacher"!==t.role?s.push("/"):"approved"!==t.approvalStatus&&s.push("/auth/pending"):s.push("/auth/login"))},[t,Z,s]),(0,l.useEffect)(()=>{(null==t?void 0:t.role)==="teacher"&&"approved"===t.approvalStatus&&ea()},[t]);let ea=async()=>{if(t){H(!0);try{let e=await (0,w.Ds)(t.uid);M(e)}catch(e){console.error("학급 로드 실패:",e)}finally{H(!1)}}},el=async e=>{try{let s=await (0,w._8)(e);F(s)}catch(e){console.error("학생 로드 실패:",e)}},er=async e=>{try{let s=await (0,w.a)(e);q(s)}catch(e){console.error("학습 통계 로드 실패:",e)}},en=async e=>{L(e),S("students"),await Promise.all([el(e.id),er(e.id)])},ei=async()=>{if(t&&O.trim())try{await (0,w.qH)(O,t.uid,t.displayName,V),T(""),U(""),R(!1),await ea()}catch(e){console.error("학급 생성 실패:",e)}},ec=async()=>{let e=W.trim();if(!t||!E||!e||J<1)return;if(e.length<4){alert("접두사는 최소 4자 이상 입력해주세요.\n(예: isw1, student, 1ban 등)");return}let s=[],a=[];for(let t=1;t<=J;t++){let l=t.toString().padStart(2,"0"),r="".concat(e).concat(l);s.push({displayName:r,studentNumber:r,password:r}),a.push({id:r,password:r})}et(!0);try{await (0,w.gj)(E.id,t.uid,s),Y(a),X(!1),ee(!0),G(""),K(10)}catch(e){console.error("학생 일괄 생성 실패:",e),alert("학생 생성 중 오류가 발생했습니다.")}finally{et(!1)}},ex=async()=>{await m(),s.push("/")};return Z&&t&&"teacher"===t.role&&"approved"===t.approvalStatus?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDC68‍\uD83C\uDFEB"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-bold text-gray-800",children:"선생님 대시보드"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[t.displayName," (",t.schoolName,")"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.zx,{variant:"outline",size:"sm",onClick:()=>{L(null),S("classes"),ea()},leftIcon:(0,a.jsx)(c.Z,{size:16}),children:"새로고침"}),(0,a.jsx)(v.zx,{variant:"ghost",size:"sm",onClick:ex,leftIcon:(0,a.jsx)(x.Z,{size:16}),children:"로그아웃"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[E&&(0,a.jsxs)("button",{onClick:()=>{L(null),S("classes")},className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4",children:[(0,a.jsx)(d.Z,{size:20,className:"rotate-180"}),(0,a.jsx)("span",{children:"학급 목록으로"})]}),!E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"내 학급"}),(0,a.jsx)(v.zx,{onClick:()=>R(!0),leftIcon:(0,a.jsx)(o,{size:18}),children:"학급 만들기"})]}),A?(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)(c.Z,{size:32,className:"animate-spin text-green-500"})}):0===D.length?(0,a.jsxs)(v.Zb,{className:"p-12 text-center",children:[(0,a.jsx)("span",{className:"text-6xl mb-4 block",children:"\uD83C\uDFEB"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"학급이 없습니다"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"학급을 만들어 학생들을 관리하세요!"}),(0,a.jsx)(v.zx,{onClick:()=>R(!0),leftIcon:(0,a.jsx)(o,{size:18}),children:"첫 학급 만들기"})]}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:D.map(e=>(0,a.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>en(e),className:"w-full text-left",children:(0,a.jsx)(v.Zb,{className:"p-6 hover:shadow-lg transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center text-2xl",children:"\uD83C\uDFEB"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:e.name}),e.grade&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.grade}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)(h.Z,{size:16,className:"text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["학생 ",e.studentIds.length,"명"]})]})]}),(0,a.jsx)(d.Z,{size:20,className:"text-gray-400"})]})})},e.id))})]}),E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Zb,{className:"p-6 mb-6 bg-gradient-to-r from-green-50 to-emerald-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center text-3xl",children:"\uD83C\uDFEB"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:E.name}),(0,a.jsxs)("p",{className:"text-gray-600",children:["학생 ",I.length,"명"]})]})]}),(0,a.jsx)(v.zx,{onClick:()=>X(!0),leftIcon:(0,a.jsx)(u,{size:18}),children:"학생 추가"})]})}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsx)("button",{onClick:()=>S("students"),className:(0,k.cn)("px-4 py-2 rounded-lg font-medium transition-all","students"===z?"bg-green-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"),children:"학생 목록"}),(0,a.jsx)("button",{onClick:()=>S("stats"),className:(0,k.cn)("px-4 py-2 rounded-lg font-medium transition-all","stats"===z?"bg-green-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"),children:"학습 현황"})]}),"students"===z&&(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:0===I.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("span",{className:"text-6xl mb-4 block",children:"\uD83D\uDCDA"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"학생이 없습니다"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"학생을 추가해주세요!"}),(0,a.jsx)(v.zx,{onClick:()=>X(!0),leftIcon:(0,a.jsx)(u,{size:18}),children:"학생 추가"})]}):(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"번호"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"이름"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"학번"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"마지막 접속"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:I.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:s+1}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-sm",children:"\uD83D\uDCDA"}),(0,a.jsx)("span",{className:"font-medium",children:e.displayName})]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.studentNumber}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(e.lastLoginAt).toLocaleDateString()})]},e.uid))})]})}),"stats"===z&&(0,a.jsx)("div",{className:"space-y-4",children:0===P.length?(0,a.jsxs)(v.Zb,{className:"p-12 text-center",children:[(0,a.jsx)("span",{className:"text-6xl mb-4 block",children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"학습 데이터가 없습니다"}),(0,a.jsx)("p",{className:"text-gray-500",children:"학생들이 학습을 시작하면 여기에 표시됩니다."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(v.Zb,{className:"p-4 bg-amber-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(p.Z,{className:"text-amber-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:Math.round(P.reduce((e,s)=>e+s.totalXp,0)/P.length)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"평균 XP"})]})]})}),(0,a.jsx)(v.Zb,{className:"p-4 bg-green-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.Z,{className:"text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:Math.round(P.reduce((e,s)=>e+s.totalWordsLearned,0)/P.length)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"평균 단어"})]})]})}),(0,a.jsx)(v.Zb,{className:"p-4 bg-blue-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(y.Z,{className:"text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:[Math.round(P.reduce((e,s)=>e+s.totalTimeSpentMinutes,0)/P.length),"분"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"평균 학습시간"})]})]})}),(0,a.jsx)(v.Zb,{className:"p-4 bg-purple-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{className:"text-purple-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:[Math.max(...P.map(e=>e.currentStreak)),"일"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"최고 스트릭"})]})]})})]}),(0,a.jsx)(v.Zb,{className:"overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"학생"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"레벨"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"XP"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"단어"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"스트릭"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"마지막 학습"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:P.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 font-medium",children:e.displayName}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-600 rounded-full text-sm",children:["Lv.",e.level]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-amber-600 font-medium",children:e.totalXp}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[e.totalWordsLearned,"개"]}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.Z,{size:14,className:"text-orange-500"}),(0,a.jsxs)("span",{children:[e.currentStreak,"일"]})]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(e.lastStudyDate).toLocaleDateString()})]},e.oderId))})]})})]})})]}),(0,a.jsx)(i.M,{children:_&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>R(!1),children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"학급 만들기"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"학급명 *"}),(0,a.jsx)("input",{type:"text",value:O,onChange:e=>T(e.target.value),placeholder:"예: 1학년 2반",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-green-400 focus:ring-2 focus:ring-green-100 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"학년 (선택)"}),(0,a.jsx)("input",{type:"text",value:V,onChange:e=>U(e.target.value),placeholder:"예: 1학년",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-green-400 focus:ring-2 focus:ring-green-100 outline-none"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)(v.zx,{variant:"outline",className:"flex-1",onClick:()=>R(!1),children:"취소"}),(0,a.jsx)(v.zx,{className:"flex-1",onClick:ei,disabled:!O.trim(),children:"만들기"})]})]})})}),(0,a.jsx)(i.M,{children:B&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>X(!1),children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"학생 일괄 추가"}),(0,a.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-700",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"자동 생성 안내"}),(0,a.jsx)("p",{children:"접두사와 인원수를 입력하면 자동으로 계정이 생성됩니다."}),(0,a.jsx)("p",{className:"text-xs mt-1",children:'예: "isw1" + 5명 → isw101/isw101, isw102/isw102, ... isw105/isw105'}),(0,a.jsx)("p",{className:"text-xs mt-1 text-blue-600 font-medium",children:"* 접두사는 최소 4자 이상 필요합니다."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"접두사 * (최소 4자)"}),(0,a.jsx)("input",{type:"text",value:W,onChange:e=>G(e.target.value),placeholder:"예: isw1, 1ban, std1",minLength:4,maxLength:20,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-green-400 focus:ring-2 focus:ring-green-100 outline-none"}),W.trim().length>0&&W.trim().length<4&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"접두사는 최소 4자 이상 입력해주세요."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생성 인원수 (최대 40명)"}),(0,a.jsx)("select",{value:J,onChange:e=>K(Number(e.target.value)),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-green-400 focus:ring-2 focus:ring-green-100 outline-none",children:Array.from({length:40},(e,s)=>s+1).map(e=>(0,a.jsxs)("option",{value:e,children:[e,"명"]},e))})]}),W.trim().length>=4&&(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"생성될 계정 미리보기"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:[Array.from({length:Math.min(J,10)},(e,s)=>{let t=(s+1).toString().padStart(2,"0");return(0,a.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs",children:[W.trim(),t]},s)}),J>10&&(0,a.jsxs)("span",{className:"px-2 py-1 text-gray-500 text-xs",children:["... 외 ",J-10,"명"]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"* 아이디와 비밀번호가 동일하게 생성됩니다."})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)(v.zx,{variant:"outline",className:"flex-1",onClick:()=>X(!1),children:"취소"}),(0,a.jsx)(v.zx,{className:"flex-1",onClick:ec,disabled:W.trim().length<4||es,children:es?"생성 중...":"".concat(J,"명 추가하기")})]})]})})}),(0,a.jsx)(i.M,{children:$&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(f.Z,{className:"text-green-500",size:28}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"학생 계정 생성 완료!"})]}),(0,a.jsxs)("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"⚠️ 중요 안내"}),(0,a.jsx)("p",{children:"학생 계정 생성으로 인해 자동 로그아웃됩니다."}),(0,a.jsx)("p",{children:"아래 정보를 복사한 후 다시 로그인해주세요."})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto mb-4",children:(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["생성된 계정 (",Q.length,"명)"]}),(0,a.jsxs)("button",{onClick:()=>{let e=Q.map(e=>"".concat(e.id," / ").concat(e.password)).join("\n");navigator.clipboard.writeText(e),alert("클립보드에 복사되었습니다!")},className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[(0,a.jsx)(N,{size:14}),"복사"]})]}),(0,a.jsx)("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:Q.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm py-1 border-b border-gray-200 last:border-0",children:[(0,a.jsx)("span",{className:"font-mono text-gray-800",children:e.id}),(0,a.jsxs)("span",{className:"text-gray-500",children:["비밀번호: ",e.password]})]},s))})]})}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"학생 로그인 방법:"})," ID만 입력 (예: ",null===(e=Q[0])||void 0===e?void 0:e.id,")"]})}),(0,a.jsx)(v.zx,{className:"w-full",onClick:()=>{ee(!1),Y([]),s.push("/auth/login")},children:"확인 후 다시 로그인"})]})})})]})]}):(0,a.jsx)(v.SX,{})}}},function(e){e.O(0,[609,324,577,974,91,592,1,971,117,744],function(){return e(e.s=8237)}),_N_E=e.O()}]);