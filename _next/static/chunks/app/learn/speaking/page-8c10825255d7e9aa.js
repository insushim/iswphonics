(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{9083:function(e,t,s){Promise.resolve().then(s.bind(s,3544))},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9076:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},3544:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var l=s(7437),a=s(2265),c=s(9376),i=s(5095),r=s(429),n=s(2660),x=s(8662),d=s(9076),o=s(407),m=s(1),u=s(1592),h=s(3905),f=s(8857),g=s(3448);function j(){let e=(0,c.useRouter)(),{settings:t,addXp:s,updateStreak:j}=(0,m.LM)(),[p,y]=(0,a.useState)("intro"),[N,b]=(0,a.useState)([]),[v,C]=(0,a.useState)(0),[w,k]=(0,a.useState)([]),[D,z]=(0,a.useState)(0),[Z,A]=(0,a.useState)(!1),E=N[v],M=N.length>0?v/N.length*100:0,S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;b((0,f.mS)(e,t.difficulty)),C(0),k([]),z(0),y("practice")},_=()=>{y("summary"),A(!0),s(15*w.filter(e=>e.result.isCorrect).length+50),j(),setTimeout(()=>A(!1),3e3)},F=(0,a.useMemo)(()=>{if(0===w.length)return{correct:0,total:0,accuracy:0,avgConfidence:0};let e=w.filter(e=>e.result.isCorrect).length,t=w.reduce((e,t)=>e+t.result.confidence,0)/w.length;return{correct:e,total:w.length,accuracy:Math.round(e/w.length*100),avgConfidence:Math.round(100*t)}},[w]);return(0,l.jsxs)("div",{className:"min-h-screen pb-6",children:[(0,l.jsx)(h.Gr,{isActive:Z}),(0,l.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-amber-100",children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("button",{onClick:()=>"intro"===p?e.back():y("intro"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,l.jsx)(n.Z,{size:24,className:"text-gray-600"})}),(0,l.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"말하기 연습"}),(0,l.jsx)("div",{className:"w-10"})]}),("practice"===p||"result"===p)&&(0,l.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,l.jsx)(u.ko,{value:M,size:"sm",color:"red",className:"flex-1"}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[v+1,"/",N.length]})]})]})}),(0,l.jsx)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:(0,l.jsxs)(i.M,{mode:"wait",children:["intro"===p&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center text-center",children:[(0,l.jsx)(h.zk,{state:{emotion:"encouraging",message:"발음 연습을 시작해볼까요?",isAnimating:!1},size:"md",className:"mb-8"}),(0,l.jsx)(u.Zb,{className:"w-full max-w-sm mb-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-4 text-left",children:[(0,l.jsx)("div",{className:"p-3 bg-red-100 rounded-full",children:(0,l.jsx)(x.Z,{size:32,className:"text-red-500"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-gray-800",children:"마이크 사용"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"마이크 권한이 필요합니다"})]})]})}),(0,l.jsxs)("p",{className:"text-gray-600 mb-8",children:["영어 단어를 듣고 따라 말해보세요.",(0,l.jsx)("br",{}),"AI가 발음을 평가해드려요!"]}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[(0,l.jsx)(u.zx,{size:"lg",onClick:()=>S(5),className:"w-full",children:"\uD83C\uDFAF 빠른 연습 (5개)"}),(0,l.jsx)(u.zx,{variant:"secondary",size:"lg",onClick:()=>S(10),className:"w-full",children:"\uD83D\uDCDA 일반 연습 (10개)"}),(0,l.jsx)(u.zx,{variant:"outline",size:"lg",onClick:()=>S(20),className:"w-full",children:"\uD83C\uDFC6 도전 연습 (20개)"})]})]},"intro"),"practice"===p&&E&&(0,l.jsx)(r.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"flex flex-col items-center",children:(0,l.jsx)(h.CZ,{targetWord:E.word,targetMeaning:E.meaning,onResult:e=>{z(e=>e+1);let t={word:E,result:e,attempts:D+1};k(e=>[...e,t]),y("result")},autoPlayTarget:!0})},"practice-".concat(v)),"result"===p&&w.length>0&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center text-center",children:[(0,l.jsx)(r.E.div,{className:"text-6xl mb-4",animate:{scale:[1,1.2,1]},transition:{duration:.5},children:w[w.length-1].result.isCorrect?"\uD83C\uDF89":"\uD83D\uDCAA"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:w[w.length-1].result.isCorrect?"잘했어요!":"괜찮아요!"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:w[w.length-1].result.feedback}),(0,l.jsx)(u.Zb,{className:"w-full max-w-sm mb-6",children:(0,l.jsx)("div",{className:"flex justify-center mb-3",children:(0,l.jsx)(u.D8,{value:100*w[w.length-1].result.confidence,size:80,color:w[w.length-1].result.confidence>=.8?"green":"amber",label:"유사도"})})}),(0,l.jsxs)("div",{className:"flex gap-3",children:[!w[w.length-1].result.isCorrect&&D<3&&(0,l.jsx)(u.zx,{variant:"outline",onClick:()=>{k(e=>e.slice(0,-1)),y("practice")},leftIcon:(0,l.jsx)(d.Z,{}),children:"다시 하기"}),(0,l.jsx)(u.zx,{onClick:()=>{v<N.length-1?(C(v+1),z(0),y("practice")):_()},rightIcon:(0,l.jsx)(o.Z,{}),children:v===N.length-1?"결과 보기":"다음 단어"})]})]},"result"),"summary"===p&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center text-center",children:[(0,l.jsx)(r.E.div,{className:"text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:.8},children:F.accuracy>=80?"\uD83C\uDFC6":F.accuracy>=60?"⭐":"\uD83D\uDCAA"}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"연습 완료!"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:F.accuracy>=80?"정말 훌륭해요!":F.accuracy>=60?"잘했어요!":"계속 연습하면 더 잘할 수 있어요!"}),(0,l.jsx)(u.Zb,{className:"w-full max-w-sm mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-3xl font-bold text-green-600",children:F.correct}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"정답"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:[F.accuracy,"%"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"정답률"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[F.avgConfidence,"%"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"평균 유사도"})]})]})}),(0,l.jsx)("div",{className:"w-full max-w-sm mb-6 max-h-48 overflow-y-auto",children:w.map((e,t)=>(0,l.jsxs)("div",{className:(0,g.cn)("flex items-center justify-between p-3 rounded-lg mb-2",e.result.isCorrect?"bg-green-50":"bg-red-50"),children:[(0,l.jsx)("span",{className:"font-medium",children:e.word.word}),(0,l.jsx)("span",{className:(0,g.cn)("text-sm",e.result.isCorrect?"text-green-600":"text-red-600"),children:e.result.isCorrect?"✓ 성공":"✗ 실패"})]},t))}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(u.zx,{variant:"outline",onClick:()=>y("intro"),children:"다시 연습"}),(0,l.jsx)(u.zx,{onClick:()=>e.push("/"),children:"홈으로"})]})]},"summary")]})})]})}}},function(e){e.O(0,[609,324,577,974,365,91,592,1,905,9,971,117,744],function(){return e(e.s=9083)}),_N_E=e.O()}]);