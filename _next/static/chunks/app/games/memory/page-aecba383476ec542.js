(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{8330:function(e,t,s){Promise.resolve().then(s.bind(s,9013))},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9076:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},9013:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var i=s(7437),a=s(2265),l=s(9376),c=s(5095),n=s(429),r=s(2660),d=s(1723);let x=(0,s(9763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var o=s(9474),u=s(9076),m=s(7509),p=s(1592),h=s(3905),f=s(8857),j=s(3448),b=s(5480);let D={cat:"\uD83D\uDC31",dog:"\uD83D\uDC36",pig:"\uD83D\uDC37",fish:"\uD83D\uDC1F",bird:"\uD83D\uDC26",sun:"☀️",moon:"\uD83C\uDF19",star:"⭐",tree:"\uD83C\uDF33",flower:"\uD83C\uDF38",apple:"\uD83C\uDF4E",cake:"\uD83C\uDF70",egg:"\uD83E\uDD5A",cup:"\uD83E\uDD64",hat:"\uD83C\uDFA9",car:"\uD83D\uDE97",book:"\uD83D\uDCDA",ball:"⚽",box:"\uD83D\uDCE6",bed:"\uD83D\uDECF️"};function y(){let e=(0,l.useRouter)(),{settings:t,addXp:s,updateStreak:y}=(0,m.LM)(),[N,v]=(0,a.useState)("intro"),[C,w]=(0,a.useState)([]),[k,E]=(0,a.useState)([]),[F,M]=(0,a.useState)(0),[S,Z]=(0,a.useState)(0),[z,I]=(0,a.useState)(120),[A,_]=(0,a.useState)(0),[L,T]=(0,a.useState)(!1),[Y,q]=(0,a.useState)(!1),H=(0,a.useCallback)(()=>{let e=(0,f.mS)(6,t.difficulty),s=[];e.forEach((e,t)=>{let i="card-a-".concat(t),a="card-b-".concat(t),l=D[e.word.toLowerCase()]||"\uD83D\uDCD6",c=(0,b.QH)(e.word);s.push({id:i,content:e.word,emoji:l,imageUrl:c,matchId:a,isFlipped:!1,isMatched:!1}),s.push({id:a,content:e.word,emoji:l,imageUrl:c,matchId:i,isFlipped:!1,isMatched:!1})}),w((0,j.Sy)(s)),E([]),M(0),Z(0),I(120),_(0),q(!1),v("playing")},[t.difficulty]);(0,a.useEffect)(()=>{if("playing"!==N)return;let e=setInterval(()=>{I(t=>t<=1?(clearInterval(e),O(!1),0):t-1)},1e3);return()=>clearInterval(e)},[N]);let O=e=>{v("complete"),e&&(T(!0),s(A+10*Math.floor(z/10)+Math.max(0,(18-S)*5)+100),y(),setTimeout(()=>T(!1),3e3))},R=e=>{if("playing"!==N||Y)return;let t=C.find(t=>t.id===e);if(!t||t.isMatched||t.isFlipped)return;w(t=>t.map(t=>t.id===e?{...t,isFlipped:!0}:t));let s=[...k,e];if(E(s),2===s.length){Z(e=>e+1),q(!0);let[e,t]=s,i=C.find(t=>t.id===e),a=C.find(e=>e.id===t);i&&a&&i.matchId===t?setTimeout(()=>{w(s=>s.map(s=>s.id===e||s.id===t?{...s,isMatched:!0}:s)),M(e=>e+1),_(e=>e+30),E([]),q(!1),F+1>=6&&O(!0)},500):setTimeout(()=>{w(s=>s.map(s=>s.id===e||s.id===t?{...s,isFlipped:!1}:s)),E([]),q(!1)},1e3)}};return(0,i.jsxs)("div",{className:"min-h-screen pb-6",children:[(0,i.jsx)(h.Gr,{isActive:L}),(0,i.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-amber-100",children:(0,i.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,i.jsx)(r.Z,{size:24,className:"text-gray-600"})}),(0,i.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"메모리 게임"}),(0,i.jsx)("div",{className:"w-10"})]}),"playing"===N&&(0,i.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,i.jsx)(d.Z,{size:18}),(0,i.jsx)("span",{className:(0,j.cn)("font-bold",z<=20&&"text-red-500"),children:(0,j.mr)(z)})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(x,{size:18,className:"text-purple-500"}),(0,i.jsxs)("span",{className:"font-bold",children:[S,"회"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(o.Z,{size:18,className:"text-amber-500"}),(0,i.jsx)("span",{className:"font-bold",children:A})]})]})]})}),(0,i.jsx)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:(0,i.jsxs)(c.M,{mode:"wait",children:["intro"===N&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center text-center",children:[(0,i.jsx)(n.E.div,{className:"text-8xl mb-6",animate:{rotateY:[0,180,360]},transition:{duration:2,repeat:1/0},children:"\uD83E\uDDE0"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"메모리 게임"}),(0,i.jsxs)("p",{className:"text-gray-600 mb-8",children:["카드를 뒤집어서",(0,i.jsx)("br",{}),"같은 단어 쌍을 찾으세요!"]}),(0,i.jsx)(p.Zb,{className:"w-full max-w-sm mb-8",children:(0,i.jsxs)("div",{className:"space-y-2 text-left text-sm text-gray-600",children:[(0,i.jsx)("p",{children:"\uD83C\uDCCF 카드를 뒤집어 같은 쌍 찾기"}),(0,i.jsx)("p",{children:"⏱️ 제한 시간: 2분"}),(0,i.jsxs)("p",{children:["\uD83C\uDFAF 총 ",6,"쌍 (",12,"장)"]}),(0,i.jsx)("p",{children:"\uD83D\uDCA1 적은 횟수로 찾으면 보너스!"})]})}),(0,i.jsx)(p.zx,{size:"lg",onClick:H,children:"게임 시작"})]},"intro"),"playing"===N&&(0,i.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(p.ko,{value:F/6*100,size:"sm",color:"purple",showLabel:!0})}),(0,i.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:C.map(e=>(0,i.jsx)(g,{card:e,onClick:()=>R(e.id)},e.id))})]},"playing"),"complete"===N&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center text-center",children:[(0,i.jsx)(n.E.div,{className:"text-8xl mb-6",animate:{scale:[1,1.2,1]},transition:{duration:.8},children:F>=6?"\uD83C\uDFC6":"⏱️"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:F>=6?"완벽해요!":"시간 초과!"}),(0,i.jsx)(p.Zb,{className:"w-full max-w-sm mb-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[F,"/",6]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"매칭"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:S}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"시도 횟수"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-amber-600",children:A}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"점수"})]})]})}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(p.zx,{variant:"outline",onClick:H,leftIcon:(0,i.jsx)(u.Z,{}),children:"다시 하기"}),(0,i.jsx)(p.zx,{onClick:()=>e.push("/games"),children:"게임 목록"})]})]},"complete")]})})]})}function g(e){let{card:t,onClick:s}=e,l=t.isFlipped||t.isMatched,[c,r]=(0,a.useState)(!1),[d,x]=(0,a.useState)(!1);return(0,i.jsx)(n.E.div,{className:"aspect-square perspective-1000",whileHover:t.isMatched||t.isFlipped?void 0:{scale:1.05},whileTap:t.isMatched||t.isFlipped?void 0:{scale:.95},children:(0,i.jsxs)(n.E.button,{onClick:s,disabled:t.isMatched,className:"relative w-full h-full",style:{transformStyle:"preserve-3d"},animate:{rotateY:l?180:0},transition:{duration:.4},children:[(0,i.jsx)("div",{className:(0,j.cn)("absolute inset-0 rounded-kid flex items-center justify-center","bg-gradient-to-br from-purple-400 to-pink-400","text-white text-4xl font-bold","[backface-visibility:hidden]"),children:"?"}),(0,i.jsxs)("div",{className:(0,j.cn)("absolute inset-0 rounded-kid flex flex-col items-center justify-center overflow-hidden","bg-white shadow-md","[backface-visibility:hidden] [transform:rotateY(180deg)]",t.isMatched&&"bg-green-50 ring-2 ring-green-400"),children:[d?(0,i.jsx)("span",{className:"text-3xl mb-1",children:t.emoji}):(0,i.jsxs)("div",{className:"w-full h-3/4 relative",children:[!c&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-2xl",children:t.emoji})}),(0,i.jsx)("img",{src:t.imageUrl,alt:t.content,className:(0,j.cn)("w-full h-full object-cover transition-opacity",c?"opacity-100":"opacity-0"),onLoad:()=>r(!0),onError:()=>x(!0)})]}),(0,i.jsx)("span",{className:"text-xs font-medium text-gray-700 py-1",children:t.content})]})]})})}}},function(e){e.O(0,[609,324,112,385,365,592,509,905,577,971,117,744],function(){return e(e.s=8330)}),_N_E=e.O()}]);