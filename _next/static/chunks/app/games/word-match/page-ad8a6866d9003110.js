(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{8786:function(e,t,s){Promise.resolve().then(s.bind(s,104))},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9076:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},104:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var i=s(7437),a=s(2265),l=s(9376),n=s(5095),c=s(429),r=s(2660),d=s(1723),x=s(9474),m=s(9076),o=s(1),h=s(1592),u=s(3905),p=s(8857),j=s(3448),f=s(5480);function g(){let e=(0,l.useRouter)(),{settings:t,addXp:s,updateStreak:g}=(0,o.LM)(),[b,N]=(0,a.useState)("intro"),[v,w]=(0,a.useState)([]),[k,C]=(0,a.useState)(null),[M,S]=(0,a.useState)(0),[E,Z]=(0,a.useState)(0),[z,D]=(0,a.useState)(60),[I,_]=(0,a.useState)(0),[F,A]=(0,a.useState)(!1),[T,U]=(0,a.useState)([]),H=(0,a.useCallback)(()=>{let e=(0,p.mS)(5,t.difficulty),s=[];e.forEach((e,t)=>{let i="word-".concat(t),a="meaning-".concat(t);s.push({id:i,content:e.word,type:"word",matchId:a,isMatched:!1,imageUrl:(0,f.QH)(e.word)}),s.push({id:a,content:e.meaning,type:"meaning",matchId:i,isMatched:!1})}),w((0,j.Sy)(s)),C(null),S(0),Z(0),D(60),_(0),U([]),N("playing")},[t.difficulty]);(0,a.useEffect)(()=>{if("playing"!==b)return;let e=setInterval(()=>{D(t=>t<=1?(clearInterval(e),L(!1),0):t-1)},1e3);return()=>clearInterval(e)},[b]);let L=e=>{N("complete"),e&&(A(!0),s(I+5*Math.floor(z/5)+50),g(),setTimeout(()=>A(!1),3e3))},O=e=>{if("playing"!==b)return;let t=v.find(t=>t.id===e);if(!(!t||t.isMatched||T.includes(e))){if(k){if(k===e)C(null);else{let t=v.find(e=>e.id===k);t&&t.matchId===e?(w(t=>t.map(t=>t.id===k||t.id===e?{...t,isMatched:!0}:t)),S(e=>e+1),_(e=>e+20),M+1>=5&&L(!0)):(U([k,e]),Z(e=>e+1),setTimeout(()=>{U([])},500)),C(null)}}else C(e)}};return(0,i.jsxs)("div",{className:"min-h-screen pb-6",children:[(0,i.jsx)(u.Gr,{isActive:F}),(0,i.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-amber-100",children:(0,i.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,i.jsx)(r.Z,{size:24,className:"text-gray-600"})}),(0,i.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"단어 매칭"}),(0,i.jsx)("div",{className:"w-10"})]}),"playing"===b&&(0,i.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,i.jsx)(d.Z,{size:18}),(0,i.jsx)("span",{className:(0,j.cn)("font-bold",z<=10&&"text-red-500"),children:(0,j.mr)(z)})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(x.Z,{size:18,className:"text-amber-500"}),(0,i.jsx)("span",{className:"font-bold",children:I})]}),(0,i.jsx)("div",{className:"w-24",children:(0,i.jsx)(h.ko,{value:M/5*100,size:"sm",color:"green"})})]})]})}),(0,i.jsx)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:(0,i.jsxs)(n.M,{mode:"wait",children:["intro"===b&&(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center text-center",children:[(0,i.jsx)(c.E.div,{className:"text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:"\uD83C\uDFAF"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"단어 매칭 게임"}),(0,i.jsxs)("p",{className:"text-gray-600 mb-8",children:["영어 단어와 한국어 뜻을",(0,i.jsx)("br",{}),"올바르게 연결하세요!"]}),(0,i.jsx)(h.Zb,{className:"w-full max-w-sm mb-8",children:(0,i.jsxs)("div",{className:"space-y-2 text-left text-sm text-gray-600",children:[(0,i.jsx)("p",{children:"\uD83D\uDCCC 같은 쌍을 찾아 연결하세요"}),(0,i.jsx)("p",{children:"⏱️ 제한 시간: 60초"}),(0,i.jsxs)("p",{children:["\uD83C\uDFAF 총 ",5,"쌍 매칭"]})]})}),(0,i.jsx)(h.zx,{size:"lg",onClick:H,children:"게임 시작"})]},"intro"),"playing"===b&&(0,i.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-500 text-center mb-2",children:"영어"}),v.filter(e=>"word"===e.type).map(e=>(0,i.jsx)(y,{item:e,isSelected:k===e.id,isWrong:T.includes(e.id),onClick:()=>O(e.id)},e.id))]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-500 text-center mb-2",children:"한국어"}),v.filter(e=>"meaning"===e.type).map(e=>(0,i.jsx)(y,{item:e,isSelected:k===e.id,isWrong:T.includes(e.id),onClick:()=>O(e.id)},e.id))]})]})},"playing"),"complete"===b&&(0,i.jsxs)(c.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center text-center",children:[(0,i.jsx)(c.E.div,{className:"text-8xl mb-6",animate:{scale:[1,1.2,1]},transition:{duration:.8},children:M>=5?"\uD83C\uDFC6":"⏱️"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:M>=5?"게임 완료!":"시간 초과!"}),(0,i.jsx)(h.Zb,{className:"w-full max-w-sm mb-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[M,"/",5]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"매칭"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-amber-600",children:I}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"점수"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-red-600",children:E}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"실수"})]})]})}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(h.zx,{variant:"outline",onClick:H,leftIcon:(0,i.jsx)(m.Z,{}),children:"다시 하기"}),(0,i.jsx)(h.zx,{onClick:()=>e.push("/games"),children:"게임 목록"})]})]},"complete")]})})]})}function y(e){let{item:t,isSelected:s,isWrong:a,onClick:l}=e;return(0,i.jsxs)(c.E.button,{whileHover:t.isMatched?void 0:{scale:1.02},whileTap:t.isMatched?void 0:{scale:.98},onClick:l,disabled:t.isMatched,className:(0,j.cn)("w-full p-3 rounded-kid text-center font-medium transition-all",t.isMatched?"bg-green-100 text-green-600 cursor-default":a?"bg-red-100 text-red-600 animate-shake":s?"bg-amber-100 text-amber-700 ring-2 ring-amber-400":"bg-white hover:bg-gray-50 text-gray-800 shadow-sm"),children:["word"===t.type&&t.imageUrl&&(0,i.jsx)("div",{className:"w-full h-16 mb-2 rounded-lg overflow-hidden bg-gray-100",children:(0,i.jsx)("img",{src:t.imageUrl,alt:t.content,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}),(0,i.jsx)("span",{children:t.content}),t.isMatched&&(0,i.jsx)("span",{className:"ml-2",children:"✓"})]})}}},function(e){e.O(0,[609,324,577,974,365,592,91,1,905,9,971,117,744],function(){return e(e.s=8786)}),_N_E=e.O()}]);