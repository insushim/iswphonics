(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{6838:function(e,l,s){Promise.resolve().then(s.bind(s,7089))},1723:function(e,l,s){"use strict";s.d(l,{Z:function(){return t}});let t=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9076:function(e,l,s){"use strict";s.d(l,{Z:function(){return t}});let t=(0,s(9763).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},7089:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return C}});var t=s(7437),a=s(2265),i=s(9376),n=s(5095),r=s(429),c=s(2660),x=s(1723),d=s(9474),o=s(1706),m=s(2489),u=s(9763);let h=(0,u.Z)("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]),p=(0,u.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var j=s(401),g=s(9076),f=s(1),b=s(1592),y=s(3905),N=s(8857),v=s(3448),w=s(4275),k=s(5480);function C(){let e=(0,i.useRouter)(),{settings:l,addXp:s,updateStreak:u}=(0,f.LM)(),{updateMissionProgress:C}=(0,f.qm)(),[D,z]=(0,a.useState)("intro"),[Z,E]=(0,a.useState)([]),[S,M]=(0,a.useState)(0),[A,_]=(0,a.useState)([]),[T,H]=(0,a.useState)([]),[I,U]=(0,a.useState)(0),[L,P]=(0,a.useState)(0),[R,O]=(0,a.useState)(0),[q,F]=(0,a.useState)(!1),[G,Q]=(0,a.useState)(null),[V,B]=(0,a.useState)(!1),[J,K]=(0,a.useState)(90),W=Z[S],X=(0,a.useCallback)(()=>{let e=(0,N.mS)(10,l.difficulty);E(e),M(0),_([]),U(0),P(0),O(0),F(!1),Q(null),K(90),z("playing"),e.length>0&&Y(e[0])},[l.difficulty]),Y=e=>{let l=e.word.toUpperCase().split(""),s=$(l,3);H((0,v.Sy)([...l,...s])),_([]),F(!1),Q(null)},$=(e,l)=>{let s=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").filter(l=>!e.includes(l));for(let e=0;e<l&&t.length>0;e++){let e=Math.floor(Math.random()*t.length);s.push(t.splice(e,1)[0])}return s};(0,a.useEffect)(()=>{if("playing"!==D)return;let e=setInterval(()=>{K(l=>l<=1?(clearInterval(e),es(),0):l-1)},1e3);return()=>clearInterval(e)},[D]);let ee=()=>{W&&(0,w.cP)(W.word,l.speechRate)};(0,a.useEffect)(()=>{"playing"===D&&W&&l.autoPlayAudio&&ee()},[S,D]);let el=(e,l)=>{if(null!==G)return;let s="".concat(e,"-").concat(l);A.includes(s)||_([...A,s])},es=()=>{if(z("complete"),L>0){B(!0);let e=Math.floor(I/2);s(I+e),u(),setTimeout(()=>B(!1),3e3)}};return A.map(e=>e.split("-")[0]).join(""),(0,t.jsxs)("div",{className:"min-h-screen pb-6",children:[(0,t.jsx)(y.Gr,{isActive:V}),(0,t.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-amber-100",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)(c.Z,{size:24,className:"text-gray-600"})}),(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"철자 맞추기"}),(0,t.jsx)("div",{className:"w-10"})]}),"playing"===D&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(x.Z,{size:18}),(0,t.jsxs)("span",{className:(0,v.cn)("font-bold",J<=10&&"text-red-500"),children:[Math.floor(J/60),":",String(J%60).padStart(2,"0")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{size:18,className:"text-amber-500"}),(0,t.jsx)("span",{className:"font-bold",children:I})]}),(0,t.jsx)("div",{className:"w-24",children:(0,t.jsx)(b.ko,{value:(S+1)/10*100,size:"sm",color:"green"})})]})]})}),(0,t.jsx)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:(0,t.jsxs)(n.M,{mode:"wait",children:["intro"===D&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center text-center",children:[(0,t.jsx)(r.E.div,{className:"text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:"✏️"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"철자 맞추기 게임"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-8",children:["소리를 듣고 올바른 철자를",(0,t.jsx)("br",{}),"순서대로 선택하세요!"]}),(0,t.jsx)(b.Zb,{className:"w-full max-w-sm mb-8",children:(0,t.jsxs)("div",{className:"space-y-2 text-left text-sm text-gray-600",children:[(0,t.jsx)("p",{children:"\uD83D\uDD0A 단어 소리를 들어보세요"}),(0,t.jsx)("p",{children:"\uD83D\uDD24 알파벳을 순서대로 선택하세요"}),(0,t.jsxs)("p",{children:["\uD83D\uDCA1 힌트는 ",3,"번까지 사용 가능"]}),(0,t.jsx)("p",{children:"⏱️ 제한 시간: 90초"})]})}),(0,t.jsx)(b.zx,{size:"lg",onClick:X,children:"게임 시작"})]},"intro"),("playing"===D||"result"===D)&&W&&(0,t.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:[S+1," / ",10]}),(0,t.jsx)(y.zk,{state:{emotion:!0===G?"celebrating":!1===G?"encouraging":"thinking",message:!0===G?"정답이에요!":!1===G?"다시 도전해요!":"소리를 잘 들어보세요",isAnimating:!1},size:"sm",className:"mb-4"}),(0,t.jsxs)(b.Zb,{className:"w-full mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,t.jsx)("img",{src:(0,k.QH)(W.word),alt:W.meaning,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"뜻"}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-800",children:W.meaning})]}),(0,t.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ee,className:"p-4 bg-blue-100 rounded-full text-blue-600 flex-shrink-0",children:(0,t.jsx)(o.Z,{size:28})})]}),q&&(0,t.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-amber-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-amber-700",children:["\uD83D\uDCA1 힌트: 첫 글자는 ",(0,t.jsx)("strong",{children:W.word[0].toUpperCase()})]})})]}),(0,t.jsxs)("div",{className:"w-full mb-6",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2 min-h-[60px] flex-wrap",children:W.word.split("").map((e,l)=>(0,t.jsx)(r.E.div,{initial:{scale:.8},animate:{scale:1},className:(0,v.cn)("w-12 h-14 flex items-center justify-center rounded-lg text-2xl font-bold border-2",A[l]?!0===G?"bg-green-100 border-green-400 text-green-700":!1===G?"bg-red-100 border-red-400 text-red-700":"bg-white border-amber-400 text-gray-800":"bg-gray-100 border-gray-300 text-gray-400"),children:A[l]?A[l].split("-")[0]:"_"},l))}),null!==G&&(0,t.jsx)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,v.cn)("mt-4 p-3 rounded-lg text-center",G?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:G?(0,t.jsxs)("p",{className:"font-bold",children:["정답! +",q?10:15,"점"]}):(0,t.jsxs)("p",{children:["정답: ",(0,t.jsx)("strong",{children:W.word.toUpperCase()})]})})]}),(0,t.jsx)("div",{className:"w-full mb-6",children:(0,t.jsx)("div",{className:"flex justify-center gap-2 flex-wrap",children:T.map((e,l)=>{let s=A.includes("".concat(e,"-").concat(l));return(0,t.jsx)(r.E.button,{whileHover:s||null!==G?void 0:{scale:1.1},whileTap:s||null!==G?void 0:{scale:.95},onClick:()=>el(e,l),disabled:s||null!==G,className:(0,v.cn)("w-12 h-12 rounded-lg text-xl font-bold transition-all",s?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-br from-blue-400 to-cyan-400 text-white shadow-md hover:shadow-lg"),children:e},"".concat(e,"-").concat(l))})})}),(0,t.jsxs)("div",{className:"flex gap-3 w-full max-w-sm",children:[(0,t.jsxs)(b.zx,{variant:"outline",onClick:()=>{null===G&&_([])},disabled:null!==G,className:"flex-1",children:[(0,t.jsx)(m.Z,{size:20}),(0,t.jsx)("span",{className:"ml-1",children:"초기화"})]}),(0,t.jsx)(b.zx,{variant:"outline",onClick:()=>{null===G&&_(A.slice(0,-1))},disabled:0===A.length||null!==G,children:(0,t.jsx)(h,{size:20})}),(0,t.jsxs)(b.zx,{variant:"outline",onClick:()=>{R>=3||q||null!==G||(F(!0),O(e=>e+1))},disabled:R>=3||q||null!==G,className:"relative",children:[(0,t.jsx)(p,{size:20}),(0,t.jsxs)("span",{className:"ml-1 text-xs",children:["(",3-R,")"]})]}),(0,t.jsxs)(b.zx,{onClick:()=>{if(!W||null!==G)return;let e=A.map(e=>e.split("-")[0]).join("")===W.word.toUpperCase();if(Q(e),e){let e=q?10:15;U(l=>l+e),P(e=>e+1),C("spelling",1)}setTimeout(()=>{S+1>=10?es():(M(e=>e+1),Y(Z[S+1]),z("result"),setTimeout(()=>z("playing"),1500))},1500)},disabled:A.length!==W.word.length||null!==G,className:"flex-1",children:[(0,t.jsx)(j.Z,{size:20}),(0,t.jsx)("span",{className:"ml-1",children:"확인"})]})]})]},"playing"),"complete"===D&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center text-center",children:[(0,t.jsx)(r.E.div,{className:"text-8xl mb-6",animate:{scale:[1,1.2,1]},transition:{duration:.8},children:L>=7?"\uD83C\uDFC6":L>=4?"\uD83D\uDC4D":"\uD83D\uDCAA"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"게임 완료!"}),(0,t.jsx)(b.Zb,{className:"w-full max-w-sm mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[L,"/",10]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"정답"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-amber-600",children:I}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"점수"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:R}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"힌트 사용"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(b.zx,{variant:"outline",onClick:X,leftIcon:(0,t.jsx)(g.Z,{}),children:"다시 하기"}),(0,t.jsx)(b.zx,{onClick:()=>e.push("/games"),children:"게임 목록"})]})]},"complete")]})})]})}}},function(e){e.O(0,[974,361,883,592,905,1,577,971,117,744],function(){return e(e.s=6838)}),_N_E=e.O()}]);